<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Loading...</title><script src="https://cdn.tailwindcss.com"></script><style>body { font-family: 'Inter', sans-serif; }</style></head><body class="bg-gray-100 text-gray-900"><div class="container mx-auto p-4 max-w-4xl min-h-screen flex flex-col justify-center"><header class="text-center mb-10"><h1 class="text-3xl md:text-5xl font-extrabold text-blue-700 leading-tight" id="main-title">Loading Company Data...</h1></header><main class="bg-white shadow-xl rounded-lg p-6 md:p-10 border border-gray-200"><p class="text-xl text-gray-700 mb-6 text-center">Shares Outstanding for: <span class="font-extrabold text-blue-600" id="share-entity-name">...</span></p><div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-8"><!-- Max Shares Card --><div class="bg-blue-50 p-6 rounded-lg border border-blue-200 shadow-md flex flex-col justify-between items-center text-center"><h3 class="text-xl font-semibold text-blue-800 mb-3">Highest Shares Outstanding</h3><p class="text-4xl font-extrabold text-blue-600 mb-2" id="share-max-value">...</p><p class="text-gray-600 text-base italic" id="share-max-fy">...</p></div><!-- Min Shares Card --><div class="bg-green-50 p-6 rounded-lg border border-green-200 shadow-md flex flex-col justify-between items-center text-center"><h3 class="text-xl font-semibold text-green-800 mb-3">Lowest Shares Outstanding</h3><p class="text-4xl font-extrabold text-green-600 mb-2" id="share-min-value">...</p><p class="text-gray-600 text-base italic" id="share-min-fy">...</p></div></div></main><footer class="text-center mt-10 text-gray-500 text-sm"><p>&copy; 2023 SEC Data Viewer. Data provided by the U.S. Securities and Exchange Commission.</p></footer></div><script>document.addEventListener('DOMContentLoaded', () => { const defaultCik = '0001075531'; async function fetchData(cik) { const secApiUrl = `https://data.sec.gov/api/xbrl/companyconcept/CIK${cik}/dei/EntityCommonStockSharesOutstanding.json`; const proxyBaseUrl = 'https://api.allorigins.win/raw?url='; const finalUrl = `${proxyBaseUrl}${encodeURIComponent(secApiUrl)}`; try { const response = await fetch(finalUrl, { headers: { 'User-Agent': 'BookingHoldingsApp/1.0 (contact@example.com)' } }); if (!response.ok) { throw new Error(`HTTP error! status: ${response.status}`); } const data = await response.json(); return processCompanyData(data); } catch (error) { console.error('Error fetching company data:', error); document.getElementById('main-title').textContent = 'Error loading data.'; document.getElementById('share-entity-name').textContent = 'N/A'; document.getElementById('share-max-value').textContent = 'Error'; document.getElementById('share-max-fy').textContent = 'N/A'; document.getElementById('share-min-value').textContent = 'Error'; document.getElementById('share-min-fy').textContent = 'N/A'; return null; } } function processCompanyData(data) { const entityName = data.entityName; const shares = data.units.shares; let filteredShares = shares.filter(entry => { const fy = parseInt(entry.fy); return fy > 2020 && typeof entry.val === 'number'; }); if (filteredShares.length === 0) { return { entityName, max: null, min: null }; } let maxVal = -Infinity; let minVal = Infinity; let maxFy = ''; let minFy = ''; filteredShares.forEach(entry => { if (entry.val > maxVal) { maxVal = entry.val; maxFy = entry.fy; } if (entry.val < minVal) { minVal = entry.val; minFy = entry.fy; } }); return { entityName: entityName, max: { val: maxVal, fy: maxFy }, min: { val: minVal, fy: minFy } }; } function updateUI(processedData) { if (!processedData) { return; } const titleElement = document.getElementById('main-title'); const shareEntityNameElement = document.getElementById('share-entity-name'); const shareMaxValueElement = document.getElementById('share-max-value'); const shareMaxFyElement = document.getElementById('share-max-fy'); const shareMinValueElement = document.getElementById('share-min-value'); const shareMinFyElement = document.getElementById('share-min-fy'); document.title = `${processedData.entityName} Shares Outstanding`; titleElement.textContent = `${processedData.entityName} Shares Outstanding`; shareEntityNameElement.textContent = processedData.entityName; if (processedData.max && processedData.min) { shareMaxValueElement.textContent = processedData.max.val.toLocaleString(); shareMaxFyElement.textContent = `(FY: ${processedData.max.fy})`; shareMinValueElement.textContent = processedData.min.val.toLocaleString(); shareMinFyElement.textContent = `(FY: ${processedData.min.fy})`; } else { shareMaxValueElement.textContent = 'No data available'; shareMaxFyElement.textContent = ''; shareMinValueElement.textContent = 'No data available'; shareMinFyElement.textContent = ''; } } const urlParams = new URLSearchParams(window.location.search); const cikFromUrl = urlParams.get('CIK'); const targetCik = cikFromUrl || defaultCik; fetchData(targetCik).then(data => { if (data) { updateUI(data); } }); });</script></body></html>